{"version":3,"file":"index.mjs","sources":["../src/parser/tokenizer.ts","../src/parser/parser.ts","../src/config/tokens.ts","../src/config/generator.ts","../src/primitives/modifier-map.ts","../src/primitives/shared.ts","../src/primitives/row.ts","../src/primitives/column.ts","../src/primitives/grid.ts","../src/primitives/stack.ts","../src/primitives/card.ts","../src/primitives/text.ts","../src/primitives/heading.ts","../src/primitives/label.ts","../src/primitives/button.ts","../src/icons/index.ts","../src/primitives/icon-button.ts","../src/primitives/input.ts","../src/primitives/checkbox.ts","../src/primitives/toggle.ts","../src/primitives/image.ts","../src/primitives/coverart.ts","../src/primitives/icon.ts","../src/primitives/badge.ts","../src/primitives/tag.ts","../src/primitives/divider.ts","../src/primitives/spacer.ts","../src/primitives/section.ts","../src/primitives/generic.ts","../src/primitives/registry.ts","../src/runtime/transformer.ts","../src/runtime/renderer.ts","../src/curvomorphism/index.ts","../src/index.ts"],"sourcesContent":["export type TokenType =\n  | \"LT\"\n  | \"GT\"\n  | \"LBRACE\"\n  | \"RBRACE\"\n  | \"LPAREN\"\n  | \"RPAREN\"\n  | \"LBRACKET\"\n  | \"RBRACKET\"\n  | \"COLON\"\n  | \"SEMI\"\n  | \"COMMA\"\n  | \"IDENT\"\n  | \"STRING\";\n\nexport type Token = {\n  type: TokenType;\n  value: string;\n  line: number;\n  col: number;\n};\n\nexport function tokenize(input: string): Token[] {\n  const tokens: Token[] = [];\n  let i = 0;\n  let line = 1;\n  let col = 1;\n\n  while (i < input.length) {\n    const ch = input[i];\n\n    if (ch === \"\\n\") {\n      i++;\n      line++;\n      col = 1;\n      continue;\n    }\n    if (ch === \"\\r\") {\n      i++;\n      if (input[i] === \"\\n\") i++;\n      line++;\n      col = 1;\n      continue;\n    }\n    if (ch === \" \" || ch === \"\\t\") {\n      i++;\n      col++;\n      continue;\n    }\n\n    // Comments: skip to end of line\n    if (ch === \"/\" && i + 1 < input.length && input[i + 1] === \"/\") {\n      while (i < input.length && input[i] !== \"\\n\" && input[i] !== \"\\r\") {\n        i++;\n      }\n      continue;\n    }\n\n    const SYMBOLS: Record<string, TokenType> = {\n      \"<\": \"LT\",\n      \">\": \"GT\",\n      \"{\": \"LBRACE\",\n      \"}\": \"RBRACE\",\n      \"(\": \"LPAREN\",\n      \")\": \"RPAREN\",\n      \"[\": \"LBRACKET\",\n      \"]\": \"RBRACKET\",\n      \":\": \"COLON\",\n      \";\": \"SEMI\",\n      \",\": \"COMMA\",\n    };\n\n    if (SYMBOLS[ch]) {\n      tokens.push({ type: SYMBOLS[ch], value: ch, line, col });\n      i++;\n      col++;\n      continue;\n    }\n\n    if (ch === '\"') {\n      const startCol = col;\n      i++;\n      col++;\n      let str = \"\";\n      while (i < input.length && input[i] !== '\"') {\n        if (input[i] === \"\\n\") {\n          line++;\n          col = 1;\n        } else {\n          col++;\n        }\n        str += input[i];\n        i++;\n      }\n      if (i >= input.length) {\n        throw new Error(`Unterminated string at line ${line}, col ${startCol}`);\n      }\n      i++;\n      col++;\n      tokens.push({ type: \"STRING\", value: str, line, col: startCol });\n      continue;\n    }\n\n    if (/[a-zA-Z0-9_\\-]/.test(ch)) {\n      const startCol = col;\n      let ident = \"\";\n      while (i < input.length && /[a-zA-Z0-9_\\-]/.test(input[i])) {\n        ident += input[i];\n        i++;\n        col++;\n      }\n      tokens.push({ type: \"IDENT\", value: ident, line, col: startCol });\n      continue;\n    }\n\n    throw new Error(`Unexpected character: ${ch} at line ${line}, col ${col}`);\n  }\n\n  return tokens;\n}\n","import { Token, tokenize } from \"./tokenizer\";\n\nexport type Modifier =\n  | { type: \"flag\"; value: string }\n  | { type: \"pair\"; key: string; value: string };\n\nexport type RootNode = {\n  type: \"root\";\n  name: string;\n  modifiers: Modifier[];\n  children: ASTNode[];\n};\n\nexport type ElementNode = {\n  type: \"element\";\n  name: string;\n  modifiers: Modifier[];\n  children: ASTNode[];\n};\n\nexport type InlineNode = {\n  type: \"inline\";\n  name: string;\n  modifiers: Modifier[];\n  value: string;\n};\n\nexport type ListNode = {\n  type: \"list\";\n  items: ASTNode[];\n};\n\nexport type ASTNode = ElementNode | InlineNode | ListNode;\n\nconst KNOWN_KEYS = new Set([\n  \"cols\",\n  \"gap\",\n  \"radius\",\n  \"md:cols\",\n  \"lg:cols\",\n  \"placeholder\",\n  \"type\",\n  \"size\",\n  \"variant\",\n  \"layout\",\n  \"src\",\n  \"alt\",\n  \"icon\",\n  \"label\",\n  \"value\",\n  \"center-point\",\n]);\n\nexport class Parser {\n  tokens: Token[];\n  position: number;\n  private source: string;\n\n  constructor(tokens: Token[], source?: string) {\n    this.tokens = tokens;\n    this.position = 0;\n    this.source = source || \"\";\n  }\n\n  private errorAt(msg: string, token?: Token): Error {\n    if (!token || !this.source) return new Error(msg);\n    const lines = this.source.split(\"\\n\");\n    const lineText = lines[token.line - 1] || \"\";\n    const pointer = \" \".repeat(Math.max(0, token.col - 1)) + \"^\";\n    return new Error(\n      `${msg} at line ${token.line}, col ${token.col}\\n  ${lineText}\\n  ${pointer}`,\n    );\n  }\n\n  peek(): Token | undefined {\n    return this.tokens[this.position];\n  }\n\n  consume(): Token {\n    const token = this.tokens[this.position];\n    if (!token) {\n      const last = this.tokens[this.tokens.length - 1];\n      throw this.errorAt(\"Unexpected end of input\", last);\n    }\n    this.position++;\n    return token;\n  }\n\n  check(type: string): boolean {\n    return this.peek()?.type === type;\n  }\n\n  expect(type: string, errorMsg?: string): Token {\n    const token = this.peek();\n    if (!token || token.type !== type) {\n      const msg =\n        errorMsg || `Expected ${type} but got ${token?.type || \"end of input\"}`;\n      throw this.errorAt(msg, token);\n    }\n    return this.consume();\n  }\n\n  parseRoot(): RootNode {\n    this.expect(\"LT\", \"Expected '<'\");\n\n    const nameToken = this.peek();\n    if (!nameToken || nameToken.type !== \"IDENT\") {\n      throw this.errorAt(\"Expected identifier after '<'\", nameToken);\n    }\n    const name = this.consume().value;\n\n    // Root element can have modifiers: <stack(gap medium) { ... }>\n    const modifiers = this.check(\"LPAREN\") ? this.parseModifiers() : [];\n\n    this.expect(\"LBRACE\", \"Expected '{'\");\n\n    const children: ASTNode[] = [];\n    while (!this.check(\"RBRACE\")) {\n      if (!this.peek()) {\n        throw this.errorAt(\n          \"Unexpected end of input, expected '}'\",\n          this.tokens[this.tokens.length - 1],\n        );\n      }\n      children.push(this.parseNode());\n      if (this.check(\"SEMI\")) this.consume();\n      if (this.check(\"COMMA\")) this.consume();\n    }\n\n    this.expect(\"RBRACE\", \"Expected '}'\");\n    this.expect(\"GT\", \"Expected '>'\");\n\n    return { type: \"root\", name, modifiers, children };\n  }\n\n  parseNode(): ASTNode {\n    const token = this.peek();\n    if (!token || token.type !== \"IDENT\") {\n      throw this.errorAt(\n        `Expected identifier but got ${token?.type || \"end of input\"}`,\n        token,\n      );\n    }\n    const name = this.consume().value;\n\n    const modifiers = this.check(\"LPAREN\") ? this.parseModifiers() : [];\n\n    if (this.check(\"COLON\")) {\n      this.consume();\n\n      if (this.check(\"LBRACKET\")) {\n        const list = this.parseList();\n        return { type: \"element\", name, modifiers, children: [list] };\n      }\n\n      const valToken = this.peek();\n      if (\n        !valToken ||\n        (valToken.type !== \"IDENT\" && valToken.type !== \"STRING\")\n      ) {\n        throw this.errorAt(\n          `Expected value after ':' but got ${valToken?.type || \"end of input\"}`,\n          valToken,\n        );\n      }\n      const value = this.consume().value;\n      return { type: \"inline\", name, modifiers, value };\n    }\n\n    if (this.check(\"LBRACKET\")) {\n      const list = this.parseList();\n      return { type: \"element\", name, modifiers, children: [list] };\n    }\n\n    if (this.check(\"LBRACE\")) {\n      this.consume();\n      const children: ASTNode[] = [];\n\n      while (!this.check(\"RBRACE\")) {\n        if (!this.peek()) {\n          throw this.errorAt(\n            \"Unexpected end of input, expected '}'\",\n            this.tokens[this.tokens.length - 1],\n          );\n        }\n        children.push(this.parseNode());\n        if (this.check(\"SEMI\")) this.consume();\n        if (this.check(\"COMMA\")) this.consume();\n      }\n\n      this.consume();\n      return { type: \"element\", name, modifiers, children };\n    }\n\n    // Void element: no colon, braces, or brackets follows.\n    // Treat as an inline node with an empty value (e.g. divider, spacer(large)).\n    return { type: \"inline\", name, modifiers, value: \"\" };\n  }\n\n  parseModifiers(): Modifier[] {\n    this.consume();\n    const modifiers: Modifier[] = [];\n\n    while (!this.check(\"RPAREN\")) {\n      if (!this.peek()) {\n        throw this.errorAt(\n          \"Unexpected end of input, expected ')'\",\n          this.tokens[this.tokens.length - 1],\n        );\n      }\n\n      const token = this.peek();\n      if (!token || token.type !== \"IDENT\") {\n        throw this.errorAt(\n          `Expected identifier in modifiers but got ${token?.type || \"end of input\"}`,\n          token,\n        );\n      }\n      this.consume();\n\n      const next = this.peek();\n      if (\n        KNOWN_KEYS.has(token.value) &&\n        next &&\n        (next.type === \"IDENT\" || next.type === \"STRING\") &&\n        !this.check(\"RPAREN\")\n      ) {\n        modifiers.push({\n          type: \"pair\",\n          key: token.value,\n          value: this.consume().value,\n        });\n      } else {\n        modifiers.push({ type: \"flag\", value: token.value });\n      }\n    }\n\n    this.consume();\n    return modifiers;\n  }\n\n  parseList(): ListNode {\n    this.consume();\n    const items: ASTNode[] = [];\n\n    while (!this.check(\"RBRACKET\")) {\n      if (!this.peek()) {\n        throw this.errorAt(\n          \"Unexpected end of input, expected ']'\",\n          this.tokens[this.tokens.length - 1],\n        );\n      }\n      items.push(this.parseNode());\n      if (this.check(\"COMMA\")) {\n        this.consume();\n      } else if (!this.check(\"RBRACKET\")) {\n        throw this.errorAt('Expected \",\" or \"]\"', this.peek());\n      }\n    }\n\n    this.consume();\n    return { type: \"list\", items };\n  }\n}\n\nexport function parseSakko(input: string): RootNode {\n  const tokens = tokenize(input);\n  if (tokens.length === 0) {\n    throw new Error(\"Empty input\");\n  }\n  const parser = new Parser(tokens, input);\n  return parser.parseRoot();\n}\n","export const defaultTokens: Record<string, string> = {\n  \"color.background\": \"#ffffff\",\n  \"color.surface\": \"#f8f9fa\",\n  \"color.border\": \"#e0e0e0\",\n\n  \"color.primary\": \"#2563eb\",\n  \"color.accent\": \"#ff4d8a\",\n  \"color.success\": \"#10b981\",\n  \"color.danger\": \"#ef4444\",\n  \"color.secondary\": \"#6b7280\",\n\n  \"color.text\": \"#1f2937\",\n  \"color.text-dim\": \"#6b7280\",\n  \"color.text-dimmer\": \"#9ca3af\",\n\n  \"color.on-accent\": \"#ffffff\",\n  \"color.on-primary\": \"#ffffff\",\n  \"color.on-success\": \"#ffffff\",\n  \"color.on-danger\": \"#ffffff\",\n\n  \"space.tiny\": \"4px\",\n  \"space.small\": \"8px\",\n  \"space.medium\": \"12px\",\n  \"space.large\": \"16px\",\n  \"space.xlarge\": \"24px\",\n  \"space.xxlarge\": \"32px\",\n\n  \"font.family\":\n    '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n\n  \"text.size.small\": \"12px\",\n  \"text.size.medium\": \"14px\",\n  \"text.size.large\": \"16px\",\n  \"text.size.xlarge\": \"20px\",\n\n  \"text.weight.light\": \"300\",\n  \"text.weight.normal\": \"400\",\n  \"text.weight.medium\": \"500\",\n  \"text.weight.bold\": \"700\",\n\n  \"text.leading.tight\": \"1.25\",\n  \"text.leading.normal\": \"1.5\",\n  \"text.leading.loose\": \"1.75\",\n\n  \"radius.none\": \"0px\",\n  \"radius.soft\": \"4px\",\n  \"radius.medium\": \"8px\",\n  \"radius.strong\": \"12px\",\n  \"radius.round\": \"9999px\",\n\n  \"shadow.soft\": \"0 1px 3px rgba(0,0,0,0.1)\",\n  \"shadow.medium\": \"0 4px 6px rgba(0,0,0,0.1)\",\n  \"shadow.strong\": \"0 10px 15px rgba(0,0,0,0.1)\",\n\n  \"icon.size.small\": \"16px\",\n  \"icon.size.medium\": \"20px\",\n  \"icon.size.large\": \"24px\",\n  \"icon.size.xlarge\": \"32px\",\n};\n","import { defaultTokens } from \"./tokens\";\n\nexport function generateCSSVariables(tokens: Record<string, string>): string {\n  const entries = Object.entries(tokens);\n  if (entries.length === 0) return \"\";\n\n  const lines = entries.map(([key, value]) => {\n    const cssVar = `--saz-${key.replace(/\\./g, \"-\")}`;\n    return `  ${cssVar}: ${value};`;\n  });\n\n  return `:root {\\n${lines.join(\"\\n\")}\\n}`;\n}\n\nexport function generateThemeCSS(\n  customTokens?: Record<string, string>,\n): string {\n  const merged = { ...defaultTokens, ...(customTokens || {}) };\n  return generateCSSVariables(merged);\n}\n\nexport function getTokenValue(\n  key: string,\n  customTokens?: Record<string, string>,\n): string | undefined {\n  if (customTokens && key in customTokens) {\n    return customTokens[key];\n  }\n  return defaultTokens[key];\n}\n","import { Modifier } from \"../parser/parser\";\n\nexport const MODIFIER_MAP: Record<string, Record<string, any>> = {\n  accent: { variant: \"accent\" },\n  primary: { variant: \"primary\" },\n  secondary: { variant: \"secondary\" },\n  danger: { variant: \"danger\" },\n  success: { variant: \"success\" },\n  dim: { tone: \"dim\", variant: \"dim\" },\n\n  small: { size: \"small\" },\n  medium: { size: \"medium\" },\n  large: { size: \"large\" },\n\n  bold: { weight: \"bold\" },\n  normal: { weight: \"normal\" },\n  light: { weight: \"light\" },\n\n  round: { shape: \"round\" },\n  square: { shape: \"square\" },\n  pill: { shape: \"pill\" },\n\n  row: { layout: \"row\" },\n  column: { layout: \"column\" },\n  center: { align: \"center\" },\n  \"space-between\": { justify: \"space-between\" },\n\n  curved: { curved: true },\n  flat: { curved: false },\n\n  disabled: { disabled: true },\n  active: { active: true },\n  loading: { loading: true },\n  checked: { checked: true },\n\n  \"center-point\": { \"center-point\": true },\n  vertical: { vertical: true },\n  wrap: { wrap: true },\n};\n\nexport function parseModifiers(modifiers: Modifier[]): Record<string, any> {\n  const props: Record<string, any> = {};\n\n  modifiers.forEach((mod) => {\n    if (mod.type === \"flag\") {\n      const mapping = MODIFIER_MAP[mod.value];\n      if (mapping) {\n        Object.assign(props, mapping);\n      } else {\n        throw new Error(\n          `Unknown modifier \"${mod.value}\". ` +\n            `Valid modifiers: ${Object.keys(MODIFIER_MAP).join(\", \")}`,\n        );\n      }\n    } else {\n      props[mod.key] = mod.value;\n    }\n  });\n\n  return props;\n}\n","// Shared utilities for Sazami Web Components.\n\nexport function baseStyles(extra: string = \"\"): string {\n  return `<style>\n*, *::before, *::after { box-sizing: border-box; }\n:host {\n  font-family: var(--saz-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif);\n}\n:host([hidden]) { display: none !important; }\n${extra}\n</style>`;\n}\n\n// Common gap rules reused by layout primitives.\nexport const GAP_RULES = `\n:host([gap=\"tiny\"])   { gap: var(--saz-space-tiny, 4px); }\n:host([gap=\"small\"])  { gap: var(--saz-space-small, 8px); }\n:host([gap=\"medium\"]) { gap: var(--saz-space-medium, 12px); }\n:host([gap=\"large\"])  { gap: var(--saz-space-large, 16px); }\n:host([gap=\"xlarge\"]) { gap: var(--saz-space-xlarge, 24px); }\n`;\n\n// Common variant background rules.\nexport const VARIANT_BG_RULES = `\n:host([variant=\"accent\"])    { background: var(--saz-color-accent, #ff4d8a); color: var(--saz-color-on-accent, #fff); border-color: transparent; }\n:host([variant=\"primary\"])   { background: var(--saz-color-primary, #2563eb); color: var(--saz-color-on-primary, #fff); border-color: transparent; }\n:host([variant=\"secondary\"]) { background: var(--saz-color-secondary, #6b7280); color: #fff; border-color: transparent; }\n:host([variant=\"danger\"])    { background: var(--saz-color-danger, #ef4444); color: #fff; border-color: transparent; }\n:host([variant=\"success\"])   { background: var(--saz-color-success, #10b981); color: #fff; border-color: transparent; }\n:host([variant=\"dim\"])       { background: transparent; border-color: var(--saz-color-border, #e0e0e0); box-shadow: none; }\n`;\n","import { baseStyles, GAP_RULES } from \"./shared\";\n\nexport class SazamiRow extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: flex;\n  flex-direction: row;\n  gap: var(--saz-space-medium, 12px);\n  align-items: center;\n}\n${GAP_RULES}\n:host([justify=\"space-between\"]) { justify-content: space-between; }\n:host([justify=\"center\"])        { justify-content: center; }\n:host([justify=\"flex-end\"])      { justify-content: flex-end; }\n:host([justify=\"space-around\"])  { justify-content: space-around; }\n:host([justify=\"space-evenly\"])  { justify-content: space-evenly; }\n:host([align=\"center\"])    { align-items: center; }\n:host([align=\"flex-end\"])  { align-items: flex-end; }\n:host([align=\"stretch\"])   { align-items: stretch; }\n:host([align=\"baseline\"])  { align-items: baseline; }\n:host([wrap])              { flex-wrap: wrap; }\n`) + \"<slot></slot>\";\n  }\n}\n","import { baseStyles, GAP_RULES } from \"./shared\";\n\nexport class SazamiColumn extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: var(--saz-space-medium, 12px);\n}\n${GAP_RULES}\n:host([justify=\"space-between\"]) { justify-content: space-between; }\n:host([justify=\"center\"])        { justify-content: center; }\n:host([align=\"center\"])    { align-items: center; }\n:host([align=\"stretch\"])   { align-items: stretch; }\n`) + \"<slot></slot>\";\n  }\n}\n","import { baseStyles, GAP_RULES } from \"./shared\";\n\nexport class SazamiGrid extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    const cols = this.getAttribute(\"cols\") || \"3\";\n    const mdCols = this.getAttribute(\"md:cols\");\n    const lgCols = this.getAttribute(\"lg:cols\");\n\n    let responsive = \"\";\n    if (mdCols) {\n      responsive += `@media (min-width: 768px) { :host { grid-template-columns: repeat(${mdCols}, minmax(0, 1fr)); } }\\n`;\n    }\n    if (lgCols) {\n      responsive += `@media (min-width: 1024px) { :host { grid-template-columns: repeat(${lgCols}, minmax(0, 1fr)); } }\\n`;\n    }\n\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: grid;\n  grid-template-columns: repeat(${cols}, minmax(0, 1fr));\n  gap: var(--saz-space-medium, 12px);\n}\n${GAP_RULES}\n${responsive}\n`) + \"<slot></slot>\";\n  }\n}\n","import { baseStyles, GAP_RULES } from \"./shared\";\n\nexport class SazamiStack extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: var(--saz-space-medium, 12px);\n}\n${GAP_RULES}\n:host([align=\"center\"])  { align-items: center; }\n:host([align=\"stretch\"]) { align-items: stretch; }\n`) + \"<slot></slot>\";\n  }\n}\n","import { baseStyles, GAP_RULES, VARIANT_BG_RULES } from \"./shared\";\n\nexport class SazamiCard extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: flex;\n  flex-direction: column;\n  background: var(--saz-color-surface, #f8f9fa);\n  border: 1px solid var(--saz-color-border, #e0e0e0);\n  padding: var(--saz-space-large, 16px);\n  border-radius: var(--saz-radius-medium, 8px);\n  box-shadow: var(--saz-shadow-soft, 0 1px 3px rgba(0,0,0,0.1));\n  color: var(--saz-color-text, #1f2937);\n  transition: box-shadow 0.25s ease, transform 0.25s ease, background 0.2s ease;\n  gap: var(--saz-space-large, 16px);\n}\n:host(:hover) { box-shadow: var(--saz-shadow-medium, 0 4px 6px rgba(0,0,0,0.1)); }\n:host([layout=\"row\"])    { flex-direction: row; }\n:host([layout=\"column\"]) { flex-direction: column; }\n:host([align=\"center\"])    { align-items: center; }\n:host([align=\"stretch\"])   { align-items: stretch; }\n:host([justify=\"space-between\"]) { justify-content: space-between; }\n:host([justify=\"center\"])        { justify-content: center; }\n${GAP_RULES}\n:host([size=\"small\"])  { padding: var(--saz-space-small, 8px); }\n:host([size=\"medium\"]) { padding: var(--saz-space-medium, 12px); }\n:host([size=\"large\"])  { padding: var(--saz-space-large, 16px); }\n${VARIANT_BG_RULES}\n`) + \"<slot></slot>\";\n  }\n}\n","import { baseStyles } from \"./shared\";\n\nexport class SazamiText extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: block;\n  font-size: var(--saz-text-size-medium, 14px);\n  font-weight: var(--saz-text-weight-normal, 400);\n  line-height: var(--saz-text-leading-normal, 1.5);\n  color: inherit;\n}\n:host([size=\"small\"])  { font-size: var(--saz-text-size-small, 12px); }\n:host([size=\"medium\"]) { font-size: var(--saz-text-size-medium, 14px); }\n:host([size=\"large\"])  { font-size: var(--saz-text-size-large, 16px); }\n:host([size=\"xlarge\"]) { font-size: var(--saz-text-size-xlarge, 20px); }\n:host([weight=\"light\"])  { font-weight: 300; }\n:host([weight=\"normal\"]) { font-weight: var(--saz-text-weight-normal, 400); }\n:host([weight=\"medium\"]) { font-weight: var(--saz-text-weight-medium, 500); }\n:host([weight=\"bold\"])   { font-weight: var(--saz-text-weight-bold, 700); }\n:host([tone=\"dim\"])    { color: var(--saz-color-text-dim, #6b7280); }\n:host([tone=\"dimmer\"]) { color: var(--saz-color-text-dimmer, #9ca3af); }\n:host([leading=\"tight\"])  { line-height: var(--saz-text-leading-tight, 1.25); }\n:host([leading=\"normal\"]) { line-height: var(--saz-text-leading-normal, 1.5); }\n:host([leading=\"loose\"])  { line-height: var(--saz-text-leading-loose, 1.75); }\n`) + \"<slot></slot>\";\n  }\n}\n","import { baseStyles } from \"./shared\";\n\nexport class SazamiHeading extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: block;\n  font-size: var(--saz-text-size-xlarge, 20px);\n  font-weight: var(--saz-text-weight-bold, 700);\n  line-height: var(--saz-text-leading-tight, 1.25);\n  color: inherit;\n  margin: 0 0 var(--saz-space-small, 8px) 0;\n}\n:host([size=\"small\"])  { font-size: var(--saz-text-size-medium, 14px); }\n:host([size=\"medium\"]) { font-size: var(--saz-text-size-large, 16px); }\n:host([size=\"large\"])  { font-size: var(--saz-text-size-xlarge, 20px); }\n:host([size=\"xlarge\"]) { font-size: 24px; }\n:host([weight=\"normal\"]) { font-weight: var(--saz-text-weight-normal, 400); }\n:host([weight=\"medium\"]) { font-weight: var(--saz-text-weight-medium, 500); }\n:host([tone=\"dim\"]) { color: var(--saz-color-text-dim, #6b7280); }\n`) + \"<slot></slot>\";\n  }\n}\n","import { baseStyles } from \"./shared\";\n\nexport class SazamiLabel extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: block;\n  font-size: var(--saz-text-size-small, 12px);\n  font-weight: var(--saz-text-weight-medium, 500);\n  color: var(--saz-color-text-dim, #6b7280);\n  margin-bottom: var(--saz-space-tiny, 4px);\n  line-height: var(--saz-text-leading-normal, 1.5);\n  cursor: default;\n  user-select: none;\n}\n`) + \"<slot></slot>\";\n  }\n}\n","import { baseStyles } from \"./shared\";\n\nexport class SazamiButton extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    if (!this.hasAttribute(\"role\")) this.setAttribute(\"role\", \"button\");\n    if (!this.hasAttribute(\"tabindex\")) this.setAttribute(\"tabindex\", \"0\");\n\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--saz-space-small, 8px);\n  padding: var(--saz-space-small, 8px) var(--saz-space-large, 16px);\n  border: 1px solid transparent;\n  border-radius: var(--saz-radius-medium, 8px);\n  font-size: var(--saz-text-size-medium, 14px);\n  font-weight: var(--saz-text-weight-medium, 500);\n  cursor: pointer;\n  user-select: none;\n  white-space: nowrap;\n  transition: background 0.2s ease, color 0.2s ease,\n              box-shadow 0.2s ease, opacity 0.2s ease,\n              transform 0.15s ease;\n  background: var(--saz-color-primary, #2563eb);\n  color: var(--saz-color-on-primary, #ffffff);\n}\n:host(:hover) { filter: brightness(1.1); }\n:host(:active) { transform: scale(0.97); }\n:host(:focus-visible) {\n  outline: 2px solid var(--saz-color-primary, #2563eb);\n  outline-offset: 2px;\n}\n:host([size=\"small\"]) {\n  padding: var(--saz-space-tiny, 4px) var(--saz-space-medium, 12px);\n  font-size: var(--saz-text-size-small, 12px);\n}\n:host([size=\"large\"]) {\n  padding: var(--saz-space-medium, 12px) var(--saz-space-xlarge, 24px);\n  font-size: var(--saz-text-size-large, 16px);\n}\n:host([variant=\"accent\"]) {\n  background: var(--saz-color-accent, #ff4d8a);\n  color: var(--saz-color-on-accent, #ffffff);\n}\n:host([variant=\"primary\"]) {\n  background: var(--saz-color-primary, #2563eb);\n  color: var(--saz-color-on-primary, #ffffff);\n}\n:host([variant=\"secondary\"]) {\n  background: transparent;\n  color: var(--saz-color-text, #1f2937);\n  border-color: var(--saz-color-border, #e0e0e0);\n}\n:host([variant=\"danger\"]) {\n  background: var(--saz-color-danger, #ef4444);\n  color: #ffffff;\n}\n:host([variant=\"success\"]) {\n  background: var(--saz-color-success, #10b981);\n  color: #ffffff;\n}\n:host([variant=\"dim\"]) {\n  background: transparent;\n  color: var(--saz-color-text-dim, #6b7280);\n  border-color: transparent;\n}\n:host([variant=\"dim\"]:hover) { color: var(--saz-color-text, #1f2937); }\n:host([shape=\"pill\"])   { border-radius: var(--saz-radius-round, 9999px); }\n:host([shape=\"round\"])  { border-radius: var(--saz-radius-round, 9999px); }\n:host([shape=\"square\"]) { border-radius: var(--saz-radius-none, 0); }\n:host([disabled]) {\n  opacity: 0.5;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n:host([loading]) {\n  opacity: 0.7;\n  cursor: wait;\n  pointer-events: none;\n}\n:host([active]) { filter: brightness(0.9); }\n`) + \"<slot></slot>\";\n\n    this.addEventListener(\"keydown\", (e: Event) => {\n      const ke = e as KeyboardEvent;\n      if (ke.key === \"Enter\" || ke.key === \" \") {\n        ke.preventDefault();\n        this.click();\n      }\n    });\n  }\n}\n","// TEMPORARY UNTIL I FIND A BETTER WAY\n\nexport const ICON_SVGS: Record<string, string> = {\n  play: '<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><polygon points=\"8,5 19,12 8,19\"/></svg>',\n  pause:\n    '<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><rect x=\"6\" y=\"5\" width=\"4\" height=\"14\" rx=\"1\"/><rect x=\"14\" y=\"5\" width=\"4\" height=\"14\" rx=\"1\"/></svg>',\n  stop: '<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><rect x=\"6\" y=\"5\" width=\"12\" height=\"14\" rx=\"1\"/></svg>',\n  previous:\n    '<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><polygon points=\"16,5 16,19 7,12\"/><rect x=\"5\" y=\"5\" width=\"2\" height=\"14\"/></svg>',\n  next: '<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><polygon points=\"8,5 8,19 17,12\"/><rect x=\"17\" y=\"5\" width=\"2\" height=\"14\"/></svg>',\n  skip: '<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><polygon points=\"6,5 6,19 13,12\"/><polygon points=\"13,5 13,19 20,12\"/></svg>',\n  close:\n    '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"/><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"/></svg>',\n  menu: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"><line x1=\"4\" y1=\"6\" x2=\"20\" y2=\"6\"/><line x1=\"4\" y1=\"12\" x2=\"20\" y2=\"12\"/><line x1=\"4\" y1=\"18\" x2=\"20\" y2=\"18\"/></svg>',\n  search:\n    '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"><circle cx=\"11\" cy=\"11\" r=\"7\"/><line x1=\"16.5\" y1=\"16.5\" x2=\"21\" y2=\"21\"/></svg>',\n  settings:\n    '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"><circle cx=\"12\" cy=\"12\" r=\"3\"/><path d=\"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42\"/></svg>',\n  heart:\n    '<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"/></svg>',\n  star: '<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><polygon points=\"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26\"/></svg>',\n  check:\n    '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg>',\n  plus: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"><line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"/><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"/></svg>',\n  minus:\n    '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"/></svg>',\n  edit: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7\"/><path d=\"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z\"/></svg>',\n  share:\n    '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8\"/><polyline points=\"16 6 12 2 8 6\"/><line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"15\"/></svg>',\n  download:\n    '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4\"/><polyline points=\"7 10 12 15 17 10\"/><line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\"/></svg>',\n  upload:\n    '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4\"/><polyline points=\"17 8 12 3 7 8\"/><line x1=\"12\" y1=\"3\" x2=\"12\" y2=\"15\"/></svg>',\n  refresh:\n    '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"23 4 23 10 17 10\"/><path d=\"M20.49 15a9 9 0 11-2.12-9.36L23 10\"/></svg>',\n  home: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z\"/><polyline points=\"9 22 9 12 15 12 15 22\"/></svg>',\n  back: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><line x1=\"19\" y1=\"12\" x2=\"5\" y2=\"12\"/><polyline points=\"12 19 5 12 12 5\"/></svg>',\n  forward:\n    '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"/><polyline points=\"12 5 19 12 12 19\"/></svg>',\n  up: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><line x1=\"12\" y1=\"19\" x2=\"12\" y2=\"5\"/><polyline points=\"5 12 12 5 19 12\"/></svg>',\n  down: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"/><polyline points=\"19 12 12 19 5 12\"/></svg>',\n  warning:\n    '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z\"/><line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"/><line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"/></svg>',\n  info: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"/><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"/></svg>',\n  user: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2\"/><circle cx=\"12\" cy=\"7\" r=\"4\"/></svg>',\n  lock: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"/><path d=\"M7 11V7a5 5 0 0110 0v4\"/></svg>',\n  mail: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"/><polyline points=\"22 6 12 13 2 6\"/></svg>',\n  calendar:\n    '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"/><line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\"/><line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\"/><line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\"/></svg>',\n  trash:\n    '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"3 6 5 6 21 6\"/><path d=\"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2\"/></svg>',\n  copy: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"/><path d=\"M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1\"/></svg>',\n  eye: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"/><circle cx=\"12\" cy=\"12\" r=\"3\"/></svg>',\n  \"eye-off\":\n    '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24\"/><line x1=\"1\" y1=\"1\" x2=\"23\" y2=\"23\"/></svg>',\n  filter:\n    '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polygon points=\"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\"/></svg>',\n  link: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71\"/><path d=\"M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71\"/></svg>',\n};\n","import { baseStyles } from \"./shared\";\nimport { ICON_SVGS } from \"../icons/index\";\n\nexport class SazamiIconButton extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    if (!this.hasAttribute(\"role\")) this.setAttribute(\"role\", \"button\");\n    if (!this.hasAttribute(\"tabindex\")) this.setAttribute(\"tabindex\", \"0\");\n    if (!this.hasAttribute(\"aria-label\")) {\n      const icon = this.getAttribute(\"icon\") || this.textContent?.trim() || \"\";\n      this.setAttribute(\"aria-label\", icon);\n    }\n\n    const icon = this.getAttribute(\"icon\") || this.textContent?.trim() || \"\";\n    const svg = ICON_SVGS[icon];\n\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  box-sizing: border-box;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: var(--saz-icon-size-medium, 20px);\n  height: var(--saz-icon-size-medium, 20px);\n  padding: var(--saz-space-small, 8px);\n  border: none;\n  border-radius: var(--saz-radius-round, 9999px);\n  background: transparent;\n  color: var(--saz-color-text, #1f2937);\n  cursor: pointer;\n  transition: background 0.2s ease, color 0.2s ease, transform 0.15s ease;\n  line-height: 1;\n}\n:host(:hover) { background: var(--saz-color-border, #e0e0e0); }\n:host(:active) { transform: scale(0.9); }\n:host([size=\"small\"]) {\n  width: var(--saz-icon-size-small, 16px);\n  height: var(--saz-icon-size-small, 16px);\n  padding: var(--saz-space-tiny, 4px);\n}\n:host([size=\"large\"]) {\n  width: var(--saz-icon-size-large, 24px);\n  height: var(--saz-icon-size-large, 24px);\n  padding: var(--saz-space-medium, 12px);\n}\n:host([variant=\"accent\"]) { color: var(--saz-color-accent, #ff4d8a); }\n:host([variant=\"primary\"]) { color: var(--saz-color-primary, #2563eb); }\n:host([variant=\"dim\"]) { color: var(--saz-color-text-dim, #6b7280); }\n:host([disabled]) { opacity: 0.5; cursor: not-allowed; pointer-events: none; }\n:host(:focus-visible) {\n  outline: 2px solid var(--saz-color-primary, #2563eb);\n  outline-offset: 2px;\n}\nsvg { width: 100%; height: 100%; pointer-events: none; }\n.glyph { pointer-events: none; }\n`) + (svg || `<span class=\"glyph\">${icon}</span>`);\n\n    this.addEventListener(\"keydown\", (e: Event) => {\n      const ke = e as KeyboardEvent;\n      if (ke.key === \"Enter\" || ke.key === \" \") {\n        ke.preventDefault();\n        this.click();\n      }\n    });\n  }\n}\n","import { baseStyles } from \"./shared\";\n\nexport class SazamiInput extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    const placeholder = this.getAttribute(\"placeholder\") || \"\";\n    const type = this.getAttribute(\"type\") || \"text\";\n    const value = this.getAttribute(\"value\") || this.textContent?.trim() || \"\";\n\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host { display: block; }\ninput {\n  width: 100%;\n  padding: var(--saz-space-small, 8px) var(--saz-space-large, 16px);\n  border: 1px solid var(--saz-color-border, #e0e0e0);\n  border-radius: var(--saz-radius-medium, 8px);\n  font-size: var(--saz-text-size-medium, 14px);\n  font-family: inherit;\n  color: var(--saz-color-text, #1f2937);\n  background: var(--saz-color-background, #ffffff);\n  outline: none;\n  transition: border-color 0.15s ease, box-shadow 0.15s ease;\n  box-sizing: border-box;\n}\ninput:focus {\n  border-color: var(--saz-color-primary, #2563eb);\n  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);\n}\ninput::placeholder { color: var(--saz-color-text-dimmer, #9ca3af); }\n:host([size=\"small\"]) input {\n  padding: var(--saz-space-tiny, 4px) var(--saz-space-small, 8px);\n  font-size: var(--saz-text-size-small, 12px);\n}\n:host([size=\"large\"]) input {\n  padding: var(--saz-space-medium, 12px) var(--saz-space-large, 16px);\n  font-size: var(--saz-text-size-large, 16px);\n}\n:host([disabled]) input {\n  opacity: 0.5;\n  cursor: not-allowed;\n  background: var(--saz-color-surface, #f8f9fa);\n}\n:host([variant=\"accent\"]) input:focus {\n  border-color: var(--saz-color-accent, #ff4d8a);\n  box-shadow: 0 0 0 3px rgba(255, 77, 138, 0.15);\n}\n`) +\n      `<input type=\"${type}\" placeholder=\"${placeholder}\" value=\"${value}\" ${this.hasAttribute(\"disabled\") ? \"disabled\" : \"\"} />`;\n\n    const input = this.shadowRoot!.querySelector(\"input\");\n    if (input) {\n      input.addEventListener(\"input\", (e) => {\n        this.dispatchEvent(\n          new CustomEvent(\"saz-input\", {\n            detail: { value: (e.target as HTMLInputElement).value },\n            bubbles: true,\n            composed: true,\n          }),\n        );\n      });\n    }\n  }\n}\n","import { baseStyles } from \"./shared\";\nimport { ICON_SVGS } from \"../icons/index\";\n\nexport class SazamiCheckbox extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    if (!this.hasAttribute(\"role\")) this.setAttribute(\"role\", \"checkbox\");\n    if (!this.hasAttribute(\"tabindex\")) this.setAttribute(\"tabindex\", \"0\");\n    this.setAttribute(\n      \"aria-checked\",\n      this.hasAttribute(\"checked\") ? \"true\" : \"false\",\n    );\n\n    const label = this.textContent?.trim() || \"\";\n\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: inline-flex;\n  align-items: center;\n  gap: var(--saz-space-small, 8px);\n  cursor: pointer;\n  user-select: none;\n}\n.box {\n  width: 18px;\n  height: 18px;\n  border: 2px solid var(--saz-color-border, #e0e0e0);\n  border-radius: var(--saz-radius-soft, 4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: background 0.15s ease, border-color 0.15s ease;\n  flex-shrink: 0;\n  background: var(--saz-color-background, #fff);\n}\n:host([checked]) .box {\n  background: var(--saz-color-primary, #2563eb);\n  border-color: var(--saz-color-primary, #2563eb);\n}\n.check {\n  color: #fff;\n  width: 12px;\n  height: 12px;\n  opacity: 0;\n  transition: opacity 0.1s ease;\n}\n.check svg { width: 100%; height: 100%; }\n:host([checked]) .check { opacity: 1; }\n.label {\n  font-size: var(--saz-text-size-medium, 14px);\n  color: var(--saz-color-text, #1f2937);\n}\n:host([disabled]) {\n  opacity: 0.5;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n:host(:focus-visible) .box {\n  outline: 2px solid var(--saz-color-primary, #2563eb);\n  outline-offset: 2px;\n}\n`) +\n      `<span class=\"box\"><span class=\"check\">${ICON_SVGS.check}</span></span>${label ? `<span class=\"label\">${label}</span>` : \"\"}`;\n\n    this.addEventListener(\"click\", () => {\n      if (this.hasAttribute(\"disabled\")) return;\n      this.toggleAttribute(\"checked\");\n      this.setAttribute(\n        \"aria-checked\",\n        this.hasAttribute(\"checked\") ? \"true\" : \"false\",\n      );\n      this.dispatchEvent(\n        new CustomEvent(\"saz-change\", {\n          detail: { checked: this.hasAttribute(\"checked\") },\n          bubbles: true,\n          composed: true,\n        }),\n      );\n    });\n\n    this.addEventListener(\"keydown\", (e: Event) => {\n      const ke = e as KeyboardEvent;\n      if (ke.key === \"Enter\" || ke.key === \" \") {\n        ke.preventDefault();\n        this.click();\n      }\n    });\n  }\n}\n","import { baseStyles } from \"./shared\";\n\nexport class SazamiToggle extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    if (!this.hasAttribute(\"role\")) this.setAttribute(\"role\", \"switch\");\n    if (!this.hasAttribute(\"tabindex\")) this.setAttribute(\"tabindex\", \"0\");\n    this.setAttribute(\n      \"aria-checked\",\n      this.hasAttribute(\"checked\") ? \"true\" : \"false\",\n    );\n\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: inline-flex;\n  align-items: center;\n  gap: var(--saz-space-small, 8px);\n  cursor: pointer;\n  user-select: none;\n}\n.track {\n  width: 40px;\n  height: 22px;\n  border-radius: 11px;\n  background: var(--saz-color-border, #e0e0e0);\n  position: relative;\n  transition: background 0.2s ease;\n  flex-shrink: 0;\n}\n.thumb {\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  background: #fff;\n  position: absolute;\n  top: 2px;\n  left: 2px;\n  transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: 0 1px 3px rgba(0,0,0,0.2);\n}\n:host([checked]) .track { background: var(--saz-color-primary, #2563eb); }\n:host([checked]) .thumb { transform: translateX(18px); }\n:host([variant=\"accent\"][checked]) .track { background: var(--saz-color-accent, #ff4d8a); }\n:host([disabled]) { opacity: 0.5; cursor: not-allowed; pointer-events: none; }\n:host(:focus-visible) .track {\n  outline: 2px solid var(--saz-color-primary, #2563eb);\n  outline-offset: 2px;\n}\n`) + `<span class=\"track\"><span class=\"thumb\"></span></span><slot></slot>`;\n\n    this.addEventListener(\"click\", () => {\n      if (this.hasAttribute(\"disabled\")) return;\n      this.toggleAttribute(\"checked\");\n      this.setAttribute(\n        \"aria-checked\",\n        this.hasAttribute(\"checked\") ? \"true\" : \"false\",\n      );\n      this.dispatchEvent(\n        new CustomEvent(\"saz-change\", {\n          detail: { checked: this.hasAttribute(\"checked\") },\n          bubbles: true,\n          composed: true,\n        }),\n      );\n    });\n\n    this.addEventListener(\"keydown\", (e: Event) => {\n      const ke = e as KeyboardEvent;\n      if (ke.key === \"Enter\" || ke.key === \" \") {\n        ke.preventDefault();\n        this.click();\n      }\n    });\n  }\n}\n","import { baseStyles } from \"./shared\";\n\nexport class SazamiImage extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    const src = this.getAttribute(\"src\") || this.textContent?.trim() || \"\";\n    const alt = this.getAttribute(\"alt\") || \"\";\n\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: block;\n  overflow: hidden;\n  border-radius: var(--saz-radius-medium, 8px);\n  line-height: 0;\n}\nimg {\n  width: 100%;\n  height: auto;\n  display: block;\n  object-fit: cover;\n}\n:host([shape=\"round\"]) { border-radius: var(--saz-radius-round, 9999px); }\n:host([shape=\"square\"]) { border-radius: var(--saz-radius-none, 0); }\n:host([size=\"small\"])  { max-width: 120px; }\n:host([size=\"medium\"]) { max-width: 240px; }\n:host([size=\"large\"])  { max-width: 480px; }\n`) + `<img src=\"${src}\" alt=\"${alt}\" />`;\n  }\n}\n","import { baseStyles } from \"./shared\";\n\nexport class SazamiCoverart extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    const src = this.getAttribute(\"src\") || this.textContent?.trim() || \"\";\n    const alt = this.getAttribute(\"alt\") || \"Cover art\";\n\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: block;\n  width: 64px;\n  height: 64px;\n  border-radius: var(--saz-radius-medium, 8px);\n  overflow: hidden;\n  flex-shrink: 0;\n  background: var(--saz-color-border, #e0e0e0);\n}\nimg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  display: block;\n}\n:host([shape=\"round\"]) { border-radius: var(--saz-radius-round, 9999px); }\n:host([size=\"small\"])  { width: 40px; height: 40px; }\n:host([size=\"medium\"]) { width: 64px; height: 64px; }\n:host([size=\"large\"])  { width: 96px; height: 96px; }\n`) + (src ? `<img src=\"${src}\" alt=\"${alt}\" />` : \"\");\n  }\n}\n","import { baseStyles } from \"./shared\";\nimport { ICON_SVGS } from \"../icons/index\";\n\nexport class SazamiIcon extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    const icon = this.getAttribute(\"icon\") || this.textContent?.trim() || \"\";\n    const svg = ICON_SVGS[icon];\n\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: var(--saz-icon-size-medium, 20px);\n  height: var(--saz-icon-size-medium, 20px);\n  color: inherit;\n  line-height: 1;\n}\n:host([size=\"small\"]) {\n  width: var(--saz-icon-size-small, 16px);\n  height: var(--saz-icon-size-small, 16px);\n}\n:host([size=\"large\"]) {\n  width: var(--saz-icon-size-large, 24px);\n  height: var(--saz-icon-size-large, 24px);\n}\n:host([size=\"xlarge\"]) {\n  width: var(--saz-icon-size-xlarge, 32px);\n  height: var(--saz-icon-size-xlarge, 32px);\n}\n:host([variant=\"accent\"]) { color: var(--saz-color-accent, #ff4d8a); }\n:host([variant=\"primary\"]) { color: var(--saz-color-primary, #2563eb); }\n:host([variant=\"dim\"]) { color: var(--saz-color-text-dim, #6b7280); }\nsvg { width: 100%; height: 100%; }\n`) + (svg || `<span>${icon}</span>`);\n  }\n}\n","import { baseStyles } from \"./shared\";\n\nexport class SazamiBadge extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: inline-flex;\n  align-items: center;\n  padding: var(--saz-space-tiny, 4px) var(--saz-space-small, 8px);\n  border-radius: var(--saz-radius-round, 9999px);\n  font-size: var(--saz-text-size-small, 12px);\n  font-weight: var(--saz-text-weight-medium, 500);\n  line-height: 1;\n  white-space: nowrap;\n  background: var(--saz-color-surface, #f8f9fa);\n  color: var(--saz-color-text, #1f2937);\n  border: 1px solid var(--saz-color-border, #e0e0e0);\n}\n:host([variant=\"accent\"])    { background: var(--saz-color-accent, #ff4d8a); color: var(--saz-color-on-accent, #fff); border-color: transparent; }\n:host([variant=\"primary\"])   { background: var(--saz-color-primary, #2563eb); color: var(--saz-color-on-primary, #fff); border-color: transparent; }\n:host([variant=\"secondary\"]) { background: var(--saz-color-secondary, #6b7280); color: #fff; border-color: transparent; }\n:host([variant=\"danger\"])    { background: var(--saz-color-danger, #ef4444); color: #fff; border-color: transparent; }\n:host([variant=\"success\"])   { background: var(--saz-color-success, #10b981); color: #fff; border-color: transparent; }\n:host([variant=\"dim\"])       { background: transparent; color: var(--saz-color-text-dim, #6b7280); }\n:host([size=\"small\"]) { font-size: 10px; padding: 2px var(--saz-space-tiny, 4px); }\n:host([size=\"large\"]) { font-size: var(--saz-text-size-medium, 14px); padding: var(--saz-space-small, 8px) var(--saz-space-medium, 12px); }\n`) + \"<slot></slot>\";\n  }\n}\n","import { baseStyles } from \"./shared\";\n\nexport class SazamiTag extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: inline-flex;\n  align-items: center;\n  padding: var(--saz-space-small, 8px) var(--saz-space-medium, 12px);\n  border-radius: var(--saz-radius-medium, 8px);\n  font-size: var(--saz-text-size-small, 12px);\n  font-weight: var(--saz-text-weight-medium, 500);\n  background: var(--saz-color-surface, #f8f9fa);\n  color: var(--saz-color-text, #1f2937);\n  border: 1px solid var(--saz-color-border, #e0e0e0);\n}\n:host([variant=\"accent\"])  { background: var(--saz-color-accent, #ff4d8a); color: #fff; border-color: transparent; }\n:host([variant=\"primary\"]) { background: var(--saz-color-primary, #2563eb); color: #fff; border-color: transparent; }\n:host([variant=\"danger\"])  { background: var(--saz-color-danger, #ef4444); color: #fff; border-color: transparent; }\n:host([variant=\"success\"]) { background: var(--saz-color-success, #10b981); color: #fff; border-color: transparent; }\n:host([variant=\"dim\"])     { background: transparent; color: var(--saz-color-text-dim, #6b7280); }\n`) + \"<slot></slot>\";\n  }\n}\n","import { baseStyles } from \"./shared\";\n\nexport class SazamiDivider extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: block;\n  border: none;\n  background: var(--saz-color-border, #e0e0e0);\n  margin: var(--saz-space-medium, 12px) 0;\n}\n:host(:not([vertical])) { height: 1px; width: 100%; }\n:host([vertical]) {\n  width: 1px;\n  height: 100%;\n  margin: 0 var(--saz-space-medium, 12px);\n  align-self: stretch;\n}\n:host([size=\"small\"]) { margin: var(--saz-space-small, 8px) 0; }\n:host([size=\"large\"]) { margin: var(--saz-space-large, 16px) 0; }\n:host([variant=\"dim\"]) { background: var(--saz-color-surface, #f8f9fa); }\n`) + \"\";\n  }\n}\n","import { baseStyles } from \"./shared\";\n\nexport class SazamiSpacer extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host { display: block; flex: 1; }\n:host([size=\"small\"])  { flex: none; width: var(--saz-space-small, 8px); height: var(--saz-space-small, 8px); }\n:host([size=\"medium\"]) { flex: none; width: var(--saz-space-medium, 12px); height: var(--saz-space-medium, 12px); }\n:host([size=\"large\"])  { flex: none; width: var(--saz-space-large, 16px); height: var(--saz-space-large, 16px); }\n:host([size=\"xlarge\"]) { flex: none; width: var(--saz-space-xlarge, 24px); height: var(--saz-space-xlarge, 24px); }\n`) + \"\";\n  }\n}\n","import { baseStyles, GAP_RULES } from \"./shared\";\n\nexport class SazamiSection extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n  }\n\n  connectedCallback() {\n    this.shadowRoot!.innerHTML =\n      baseStyles(`\n:host {\n  display: flex;\n  flex-direction: column;\n}\n:host([layout=\"row\"]) { flex-direction: row; }\n${GAP_RULES}\n:host([align=\"center\"]) { align-items: center; }\n`) + \"<slot></slot>\";\n\n    if (this.hasAttribute(\"center-point\")) {\n      requestAnimationFrame(() => {\n        const rect = this.getBoundingClientRect();\n        this.dataset.centerX = (rect.left + rect.width / 2).toString();\n        this.dataset.centerY = (rect.top + rect.height / 2).toString();\n      });\n    }\n  }\n}\n","import { baseStyles, GAP_RULES } from \"./shared\";\n\n// Factory for generic structural containers (details, controls, etc.)\n// Each call returns a fresh class so customElements.define never collides.\nexport function createGenericClass(): typeof HTMLElement {\n  return class extends HTMLElement {\n    constructor() {\n      super();\n      this.attachShadow({ mode: \"open\" });\n    }\n    connectedCallback() {\n      this.shadowRoot!.innerHTML =\n        baseStyles(`\n:host {\n  display: flex;\n  flex-direction: column;\n}\n:host([layout=\"row\"]) { flex-direction: row; }\n${GAP_RULES}\n:host([align=\"center\"]) { align-items: center; }\n:host([justify=\"space-between\"]) { justify-content: space-between; }\n`) + \"<slot></slot>\";\n    }\n  };\n}\n","import { SazamiRow } from \"./row\";\nimport { SazamiColumn } from \"./column\";\nimport { SazamiGrid } from \"./grid\";\nimport { SazamiStack } from \"./stack\";\nimport { SazamiCard } from \"./card\";\nimport { SazamiText } from \"./text\";\nimport { SazamiHeading } from \"./heading\";\nimport { SazamiLabel } from \"./label\";\nimport { SazamiButton } from \"./button\";\nimport { SazamiIconButton } from \"./icon-button\";\nimport { SazamiInput } from \"./input\";\nimport { SazamiCheckbox } from \"./checkbox\";\nimport { SazamiToggle } from \"./toggle\";\nimport { SazamiImage } from \"./image\";\nimport { SazamiCoverart } from \"./coverart\";\nimport { SazamiIcon } from \"./icon\";\nimport { SazamiBadge } from \"./badge\";\nimport { SazamiTag } from \"./tag\";\nimport { SazamiDivider } from \"./divider\";\nimport { SazamiSpacer } from \"./spacer\";\nimport { SazamiSection } from \"./section\";\nimport { createGenericClass } from \"./generic\";\n\nexport const COMPONENT_REGISTRY: Record<string, typeof HTMLElement> = {\n  \"saz-row\": SazamiRow,\n  \"saz-column\": SazamiColumn,\n  \"saz-grid\": SazamiGrid,\n  \"saz-stack\": SazamiStack,\n  \"saz-card\": SazamiCard,\n  \"saz-text\": SazamiText,\n  \"saz-heading\": SazamiHeading,\n  \"saz-label\": SazamiLabel,\n  \"saz-button\": SazamiButton,\n  \"saz-icon-button\": SazamiIconButton,\n  \"saz-input\": SazamiInput,\n  \"saz-checkbox\": SazamiCheckbox,\n  \"saz-toggle\": SazamiToggle,\n  \"saz-image\": SazamiImage,\n  \"saz-coverart\": SazamiCoverart,\n  \"saz-icon\": SazamiIcon,\n  \"saz-badge\": SazamiBadge,\n  \"saz-tag\": SazamiTag,\n  \"saz-divider\": SazamiDivider,\n  \"saz-spacer\": SazamiSpacer,\n  \"saz-section\": SazamiSection,\n  \"saz-details\": createGenericClass(),\n  \"saz-controls\": createGenericClass(),\n};\n\nexport function registerComponents(): void {\n  if (typeof customElements === \"undefined\") return;\n  Object.entries(COMPONENT_REGISTRY).forEach(([tag, cls]) => {\n    if (!customElements.get(tag)) {\n      customElements.define(tag, cls);\n    }\n  });\n}\n","import { ASTNode } from \"../parser/parser\";\nimport { parseModifiers } from \"../primitives/modifier-map\";\n\nexport type VNode = {\n  type: string;\n  props: Record<string, any>;\n  children: (VNode | string)[];\n};\n\nconst SAZAMI_REGISTRY: Record<string, { tag: string }> = {\n  card: { tag: \"saz-card\" },\n  text: { tag: \"saz-text\" },\n  heading: { tag: \"saz-heading\" },\n  label: { tag: \"saz-label\" },\n  button: { tag: \"saz-button\" },\n  \"icon-btn\": { tag: \"saz-icon-button\" },\n  input: { tag: \"saz-input\" },\n  checkbox: { tag: \"saz-checkbox\" },\n  toggle: { tag: \"saz-toggle\" },\n  image: { tag: \"saz-image\" },\n  coverart: { tag: \"saz-coverart\" },\n  icon: { tag: \"saz-icon\" },\n  badge: { tag: \"saz-badge\" },\n  tag: { tag: \"saz-tag\" },\n  divider: { tag: \"saz-divider\" },\n  spacer: { tag: \"saz-spacer\" },\n  row: { tag: \"saz-row\" },\n  column: { tag: \"saz-column\" },\n  grid: { tag: \"saz-grid\" },\n  stack: { tag: \"saz-stack\" },\n  details: { tag: \"saz-details\" },\n  controls: { tag: \"saz-controls\" },\n  section: { tag: \"saz-section\" },\n};\n\nexport function getTag(name: string): string {\n  const entry = SAZAMI_REGISTRY[name];\n  if (!entry) {\n    if (typeof console !== \"undefined\") {\n      console.warn(`[sazami] Unknown component \"${name}\", using saz-${name}`);\n    }\n    return `saz-${name}`;\n  }\n  return entry.tag;\n}\n\nconst ICON_COMPONENTS = new Set([\"saz-icon\", \"saz-icon-button\"]);\n\nexport function transformAST(node: ASTNode): VNode | VNode[] {\n  if (node.type === \"inline\") {\n    const tag = getTag(node.name);\n    const props = parseModifiers(node.modifiers);\n    // For icon components, pass the value as an \"icon\" attribute\n    // so connectedCallback can read it reliably.\n    if (ICON_COMPONENTS.has(tag) && node.value && !props.icon) {\n      props.icon = node.value;\n    }\n    return {\n      type: tag,\n      props,\n      children: [node.value],\n    };\n  }\n\n  if (node.type === \"element\") {\n    const children: (VNode | string)[] = [];\n    for (const child of node.children) {\n      const result = transformAST(child);\n      if (Array.isArray(result)) {\n        children.push(...result);\n      } else {\n        children.push(result);\n      }\n    }\n    return {\n      type: getTag(node.name),\n      props: parseModifiers(node.modifiers),\n      children,\n    };\n  }\n\n  if (node.type === \"list\") {\n    const items: VNode[] = [];\n    for (const item of node.items) {\n      const result = transformAST(item);\n      if (Array.isArray(result)) {\n        items.push(...result);\n      } else {\n        items.push(result);\n      }\n    }\n    return items;\n  }\n\n  throw new Error(`Unknown node type: ${(node as any).type}`);\n}\n","import { VNode } from \"./transformer\";\n\nexport function render(vnode: VNode | string, parent: HTMLElement): void {\n  if (typeof vnode === \"string\") {\n    parent.appendChild(document.createTextNode(vnode));\n    return;\n  }\n\n  const element = document.createElement(vnode.type);\n\n  Object.entries(vnode.props).forEach(([key, value]) => {\n    if (typeof value === \"boolean\" && value) {\n      element.setAttribute(key, \"\");\n    } else if (value !== undefined && value !== null && value !== false) {\n      element.setAttribute(key, String(value));\n    }\n  });\n\n  vnode.children.forEach((child) => {\n    if (Array.isArray(child)) {\n      (child as (VNode | string)[]).forEach((item) => render(item, element));\n    } else {\n      render(child, element);\n    }\n  });\n\n  parent.appendChild(element);\n}\n","export function applyCurvomorphism(\n  element: HTMLElement,\n  centerX: number,\n  centerY: number,\n  radiusValue: string = \"12px\",\n): void {\n  const rect = element.getBoundingClientRect();\n\n  const elCenterX = rect.left + rect.width / 2;\n  const elCenterY = rect.top + rect.height / 2;\n\n  const r = radiusValue;\n  const s = \"0px\";\n\n  const leftIn = elCenterX > centerX;\n  const rightIn = elCenterX < centerX;\n  const topIn = elCenterY > centerY;\n  const bottomIn = elCenterY < centerY;\n\n  element.style.borderTopLeftRadius = topIn && leftIn ? r : s;\n  element.style.borderTopRightRadius = topIn && rightIn ? r : s;\n  element.style.borderBottomLeftRadius = bottomIn && leftIn ? r : s;\n  element.style.borderBottomRightRadius = bottomIn && rightIn ? r : s;\n}\n\nfunction findCenter(el: HTMLElement): { x: number; y: number } {\n  let node: HTMLElement | null = el.parentElement;\n  while (node) {\n    if (node.dataset.centerX && node.dataset.centerY) {\n      return {\n        x: parseFloat(node.dataset.centerX),\n        y: parseFloat(node.dataset.centerY),\n      };\n    }\n    node = node.parentElement;\n  }\n  return {\n    x: typeof window !== \"undefined\" ? window.innerWidth / 2 : 0,\n    y: typeof window !== \"undefined\" ? window.innerHeight / 2 : 0,\n  };\n}\n\nexport function enableCurvomorphism(\n  element: HTMLElement,\n  options: { radius?: string; centerX?: number; centerY?: number } = {},\n): () => void {\n  const radiusType = options.radius || \"medium\";\n\n  let radiusValue = \"12px\";\n  if (typeof window !== \"undefined\" && window.getComputedStyle) {\n    const v = window\n      .getComputedStyle(document.documentElement)\n      .getPropertyValue(`--saz-radius-${radiusType}`);\n    if (v && v.trim()) radiusValue = v.trim();\n  }\n\n  const apply = () => {\n    const cx = options.centerX ?? findCenter(element).x;\n    const cy = options.centerY ?? findCenter(element).y;\n    applyCurvomorphism(element, cx, cy, radiusValue);\n  };\n\n  if (typeof window !== \"undefined\") {\n    requestAnimationFrame(apply);\n    window.addEventListener(\"resize\", apply);\n  }\n\n  return () => {\n    if (typeof window !== \"undefined\") {\n      window.removeEventListener(\"resize\", apply);\n    }\n  };\n}\n","// Sazami main entry point.\n\nexport { tokenize } from \"./parser/tokenizer\";\nexport { parseSakko, Parser } from \"./parser/parser\";\nexport type {\n  RootNode,\n  ElementNode,\n  InlineNode,\n  ListNode,\n  ASTNode,\n  Modifier,\n} from \"./parser/parser\";\nexport type { Token } from \"./parser/tokenizer\";\n\nexport { defaultTokens } from \"./config/tokens\";\nexport {\n  generateCSSVariables,\n  generateThemeCSS,\n  getTokenValue,\n} from \"./config/generator\";\n\nexport { parseModifiers, MODIFIER_MAP } from \"./primitives/modifier-map\";\nexport { registerComponents, COMPONENT_REGISTRY } from \"./primitives/registry\";\n\nexport { transformAST } from \"./runtime/transformer\";\nexport type { VNode } from \"./runtime/transformer\";\n\nexport { render } from \"./runtime/renderer\";\n\nexport { applyCurvomorphism, enableCurvomorphism } from \"./curvomorphism/index\";\n\nexport { ICON_SVGS } from \"./icons/index\";\n\nimport { parseSakko } from \"./parser/parser\";\nimport {\n  transformAST,\n  VNode,\n  getTag as getTagName,\n} from \"./runtime/transformer\";\nimport { render } from \"./runtime/renderer\";\nimport { generateThemeCSS } from \"./config/generator\";\nimport { enableCurvomorphism } from \"./curvomorphism/index\";\nimport { registerComponents } from \"./primitives/registry\";\nimport { parseModifiers as pmParseModifiers } from \"./primitives/modifier-map\";\n\nlet themeInjected = false;\n\nexport function injectThemeCSS(customTokens?: Record<string, string>): void {\n  if (typeof document === \"undefined\") return;\n\n  const existing = document.querySelector(\"style[data-sazami-theme]\");\n  const themeCSS = generateThemeCSS(customTokens);\n\n  if (existing) {\n    existing.textContent = themeCSS;\n  } else {\n    const style = document.createElement(\"style\");\n    style.setAttribute(\"data-sazami-theme\", \"\");\n    style.textContent = themeCSS;\n    document.head.appendChild(style);\n  }\n  themeInjected = true;\n}\n\nexport function compileSakko(\n  source: string,\n  target: HTMLElement,\n  options?: { tokens?: Record<string, string> },\n): void {\n  if (typeof customElements !== \"undefined\") {\n    registerComponents();\n  }\n\n  if (!themeInjected) {\n    injectThemeCSS(options?.tokens);\n  }\n\n  // Auto-wrap source in angle brackets if not already wrapped.\n  const trimmed = source.trim();\n  const wrapped =\n    trimmed.startsWith(\"<\") && trimmed.endsWith(\">\") ? trimmed : `<${trimmed}>`;\n\n  const ast = parseSakko(wrapped);\n\n  // Always render the root element as a component wrapper.\n  const rootVNode: VNode = {\n    type: getTagName(ast.name),\n    props: ast.modifiers ? pmParseModifiers(ast.modifiers) : {},\n    children: [],\n  };\n  for (const child of ast.children) {\n    const result = transformAST(child);\n    if (Array.isArray(result)) {\n      rootVNode.children.push(...result);\n    } else {\n      rootVNode.children.push(result);\n    }\n  }\n  render(rootVNode, target);\n\n  if (typeof window !== \"undefined\") {\n    requestAnimationFrame(() => {\n      target.querySelectorAll(\"[curved]\").forEach((el) => {\n        if (el instanceof HTMLElement) {\n          enableCurvomorphism(el, {\n            radius: el.getAttribute(\"radius\") || undefined,\n          });\n        }\n      });\n    });\n  }\n}\n"],"names":["icon","generateThemeCSS","registerComponents","parseSakko","getTagName","pmParseModifiers","transformAST","render","enableCurvomorphism"],"mappings":"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"}